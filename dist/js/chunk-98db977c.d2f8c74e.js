(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98db977c"],{"1dde":function(e,r,t){var o=t("d039"),a=t("b622"),l=t("2d00"),s=a("species");e.exports=function(e){return l>=51||!o((function(){var r=[],t=r.constructor={};return t[s]=function(){return{foo:1}},1!==r[e](Boolean).foo}))}},4533:function(e,r,t){"use strict";var o=t("ea2d"),a=t.n(o);a.a},"56f1":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"control_add"},[t("div",{staticClass:"content"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("添加商品")])]),t("div",{staticClass:"text item"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"商品名称",prop:"goodsname"}},[t("el-input",{model:{value:e.ruleForm.goodsname,callback:function(r){e.$set(e.ruleForm,"goodsname",r)},expression:"ruleForm.goodsname"}})],1),t("el-form-item",{attrs:{label:"商品分类",prop:"goodscategory"}},[t("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.ruleForm.goodscategory,callback:function(r){e.$set(e.ruleForm,"goodscategory",r)},expression:"ruleForm.goodscategory"}},[t("el-option",{attrs:{label:"食品",value:"shanghai"}}),t("el-option",{attrs:{label:"甜品饮品",value:"beijing"}}),t("el-option",{attrs:{label:"夜宵",value:"beijing"}})],1)],1),t("el-form-item",{attrs:{label:"商品特色",prop:"goodsfeature"}},[t("el-checkbox-group",{model:{value:e.ruleForm.goodsfeature,callback:function(r){e.$set(e.ruleForm,"goodsfeature",r)},expression:"ruleForm.goodsfeature"}},[t("el-checkbox",{attrs:{label:"新品上市",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"第二单半价",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"主打产品",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"火爆产品",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"祖传手艺",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"源自四川",name:"goodsfeature"}})],1)],1),t("el-form-item",{attrs:{label:"商品图片",prop:"imgUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:3333/goods.php?a=uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"是否促销",prop:"isPromotion"}},[t("el-radio-group",{staticStyle:{float:"left","margin-top":"14px"},model:{value:e.ruleForm.isPromotion,callback:function(r){e.$set(e.ruleForm,"isPromotion",r)},expression:"ruleForm.isPromotion"}},[t("el-radio",{attrs:{label:"促销"}}),t("el-radio",{attrs:{label:"不促销"}})],1)],1),t("el-form-item",{staticStyle:{float:"left"},attrs:{label:"食品规格",prop:"standard"}},[t("el-radio-group",{model:{value:e.ruleForm.standard,callback:function(r){e.$set(e.ruleForm,"standard",r)},expression:"ruleForm.standard"}},[t("el-radio",{attrs:{label:"单规格"}}),t("el-radio",{attrs:{label:"多规格"}})],1)],1),t("div",{staticStyle:{clear:"both"}}),t("el-form-item",{staticStyle:{float:"left"},attrs:{label:"包装费",prop:"packprice"}},[t("el-input-number",{attrs:{step:2},model:{value:e.ruleForm.packprice,callback:function(r){e.$set(e.ruleForm,"packprice",r)},expression:"ruleForm.packprice"}})],1),t("div",{staticStyle:{clear:"both"}}),t("el-form-item",{staticStyle:{float:"left"},attrs:{label:"价格",prop:"price"}},[t("el-input-number",{attrs:{step:2},model:{value:e.ruleForm.price,callback:function(r){e.$set(e.ruleForm,"price",r)},expression:"ruleForm.price"}})],1),t("div",{staticStyle:{clear:"both"}}),t("el-form-item",{attrs:{label:"商品描述",prop:"goodsdesc"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.goodsdesc,callback:function(r){e.$set(e.ruleForm,"goodsdesc",r)},expression:"ruleForm.goodsdesc"}})],1),t("el-form-item",{staticStyle:{float:"left"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即添加")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1),t("div",{staticStyle:{clear:"both"}})],1)],1)])],1)])},a=[],l=(t("99af"),t("bc3a")),s=t.n(l),i={data:function(){return{ruleForm:{goodsname:"",goodscategory:"食品",goodsfeature:[],isPromotion:"促销",standard:"多规格",packprice:"2",price:"18",goodsdesc:""},imageUrl:"",rules:{goodsname:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,message:"长度在3个字符以上",trigger:"blur"}],goodscategory:[{required:!0,message:"请选择商品分类",trigger:"change"}],goodsfeature:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],isPromotion:[{required:!0,message:"请选择活动类型",trigger:"change"}],goodsdesc:[{required:!0,message:"请填写商品描述",trigger:"blur"}]},dialogVisible:!1,disabled:!1}},methods:{submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(r){if(!r)return!1;s.a.post("http://127.0.0.1:3333/goods.php?a=add","goodsname=".concat(e.ruleForm.goodsname,"&goodscategory=").concat(e.ruleForm.goodscategory,"&goodsfeature=").concat(e.ruleForm.goodsfeature,"&imgUrl=").concat(e.imageUrl,"&isPromotion=").concat(e.ruleForm.isPromotion,"&standard=").concat(e.ruleForm.standard,"&packprice=").concat(e.ruleForm.packprice,"&price=").concat(e.ruleForm.price,"&goodsdesc=").concat(e.ruleForm.goodsdesc)).then((function(r){0==r.data.code?(alert(r.data.msg),e.$router.push("/index/control_list")):alert(r.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess:function(e){this.imageUrl="http://127.0.0.1:3333/"+e.data},beforeAvatarUpload:function(e){var r="image/jpeg"===e.type,t=e.size/1024/1024<2;return r||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),r&&t}}},c=i,n=(t("4533"),t("2877")),u=Object(n["a"])(c,o,a,!1,null,null,null);r["default"]=u.exports},"65f0":function(e,r,t){var o=t("861d"),a=t("e8b5"),l=t("b622"),s=l("species");e.exports=function(e,r){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)?o(t)&&(t=t[s],null===t&&(t=void 0)):t=void 0),new(void 0===t?Array:t)(0===r?0:r)}},8418:function(e,r,t){"use strict";var o=t("c04e"),a=t("9bf2"),l=t("5c6c");e.exports=function(e,r,t){var s=o(r);s in e?a.f(e,s,l(0,t)):e[s]=t}},"99af":function(e,r,t){"use strict";var o=t("23e7"),a=t("d039"),l=t("e8b5"),s=t("861d"),i=t("7b0b"),c=t("50c4"),n=t("8418"),u=t("65f0"),d=t("1dde"),m=t("b622"),p=t("2d00"),f=m("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",v=p>=51||!a((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),h=d("concat"),F=function(e){if(!s(e))return!1;var r=e[f];return void 0!==r?!!r:l(e)},y=!v||!h;o({target:"Array",proto:!0,forced:y},{concat:function(e){var r,t,o,a,l,s=i(this),d=u(s,0),m=0;for(r=-1,o=arguments.length;r<o;r++)if(l=-1===r?s:arguments[r],F(l)){if(a=c(l.length),m+a>g)throw TypeError(b);for(t=0;t<a;t++,m++)t in l&&n(d,m,l[t])}else{if(m>=g)throw TypeError(b);n(d,m++,l)}return d.length=m,d}})},e8b5:function(e,r,t){var o=t("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},ea2d:function(e,r,t){}}]);
//# sourceMappingURL=chunk-98db977c.d2f8c74e.js.map